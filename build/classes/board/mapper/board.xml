<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">
	<select id="boardCount" resultType="int">
		SELECT count(*) FROM project_jsp_board
	</select>
	<select id="list" resultType="board.dto.BoardDTO">
		SELECT *
			FROM (
 		 	select A.*, rownum as rn 
			from (
      			select num,writer,subject,reg_date,readcount,filename,filesize,down,re_level
				,(select count(*) from project_jsp_comment where board_num=num) comment_count, show
      				FROM project_jsp_board
      				ORDER BY num DESC
  				) A
			)
		where rn between #{start} and #{end}
	</select>
</mapper>

